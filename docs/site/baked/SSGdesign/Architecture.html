<!DOCTYPE html>
<!-- the master page for the pandoc templating mechanism
	needs page-title, page-title-postfix
		author date and keywords for indexing
    contentHtml, beforeContent, afterContent to wrap html content  
	uses style.css as default, other can be loaded with key css 
	-->
<html lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />


  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
	      	q { quotes: "“" "”" "‘" "’"; }
	  </style>

	
		  <link rel="stylesheet" href="/static/style.css" />
	
          <meta name="author" content="auf" />
              <meta name="dcterms.date" content="Jan. 29, 2019" />
              <meta name="keywords" content="SSGdesign" />
    
	<title></title>
	

    </head>

    <body>
    <!-- AF - my template for pandoc page (from the default) page3.dtpl -->
        

    <section class="hero">
            <h1><br><br><a href="/"> 
                <span style="text-shadow: 2px 2px 8px black"
                >siteNameExample</span></a></h1>
            <h3>siteByLineExample</h3>
    </section>
    <section class="header">

            <section class="menu">
		<ul>
            					<li><a href=/Blog/index.html>Blog</a></li>
            						<li><a href=/PublicationList/index.html>Publications</a></li>
            						<li><a href=/SSGdesign/index.html>SSG Documentation</a></li>
            				</ul>
    </section>
    <section>
                <header>
        <h1 class="title">Architecture.md</h1>
        
                <p class="author">auf</p>
                </header>
         
    </section>

    <section class=menu2>
		<ul>
            			</ul>
    </section>

        
<!-- new content section -->
    <section class=header>
    <p>The architecture, i.e. the combination of implementations of functions to achieve the overall functionality of SSG, can be cleanly layered:</p>
    <h2 id="command-line-processing---missing-yet">Command line processing - missing yet</h2>
    <h2 id="layout">Layout</h2>
    <p>List of the directory names and locations - to give flexibility on different distribution of the relevant directories. It is possible to have the code, the content (dough) and the directory where the served files are stored in three different locations.</p>
    <h2 id="watching-for-changes">Watching for changes</h2>
    <p>The use of twitch to watch for changes in the directories where input files exist and triggering the shake organized rebuilding process removes all tests for file changes in one point. If a change is detected, shake is called; given that shake is only redoing what is strictly necessary and caches older results, makes false positives --- alerts to changes which are not substantiated --- not dangerous; the problem can be ignored.</p>
    <h2 id="shake-for-rebuilding">Shake for rebuilding</h2>
    <p>Shake is checking for changes in the needed input files with precisin (hask values of content) and starts redoing what is necessary to update the result - filtering out false alerts from watching for changes.</p>
    <p>For shake it is important that files wit different semantics have different extensions; for example, templates which must be processed by one of the template processors must be differentiated. Same for yaml files which have different content.</p>
    <p>Shake is managing all filenames and calls functions in the next (sublayer). It checks for existence of files and produces error messages when a file is not found --- no further error processing for missing files neded.</p>
    <h3 id="transformation-of-filepath-to-path">Transformation of filepath to Path</h3>
    <p>The FilePath typed files are translated to Path type, which differentiates relative and absoulute path to files or directories.</p>
    <h2 id="processing">Processing</h2>
    <p>Processing layers are split again in two: a layer to read or write files (using typed files and typed content) before it is passed to the operations actually manipulating the data.</p>
    <h2 id="issues--how-to-organize-regression-tests">Issues : how to organize regression tests</h2>
    <p>In general, testing algebraic properties is difficult for complex data; I have a method to organize regression tests. Results from operations are stored and used for input later. The input and output of the test functions are typed to avoid problems with confusion in types between data written to disk and read from disk.</p>
    <p>TODO : what would be the advantage of Typed over using Read/Write?</p>
    <p>The construction of a test for a function is limited as another tested function must produce the input data.</p>
    </section>


        <p class=tiny>
        Produced with SGG 0.0.1 on  from "SSGdesign/Architecture.md".
        </p>

            </body>


</html>
